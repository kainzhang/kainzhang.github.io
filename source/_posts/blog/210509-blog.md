---
title: MacOS 安装及配置 MongoDB
urlname: install-mongodb-on-macos
date: 2021-05-09 19:54:21
toc: true
categories: 
    - Tech
    - Blog
tags:
    - MongoDB
    - Mac OS
---

<br>

<img src="https://cdn.jsdelivr.net/gh/kainzhang/kz-img/blog/21/05/09/20210509200454.jpeg" width="100%" height="100%" />

<br>

<!--more-->

<br>


## 官网下载压缩包

[MongoDB官网](https://www.mongodb.com/try/download/community) 选择相应版本并下载压缩包，解压后将文件夹放至喜欢的地方，用喜欢的名字重命名，我放在了 Home 目录下。

<img src="https://cdn.jsdelivr.net/gh/kainzhang/kz-img/blog/21/05/09/20210509202344.png" width="50%" height="50%" />


## 配置环境变量

打开终端修改以下文件。
```
vim ~/.zshrc
```
添加以下内容，地址为 MongoDB 的二进制文件夹地址。
```
export PATH=/Users/kainzhang/mongodb/bin:${PATH}
```
保存退出，使环境变量生效
```
source ~/.zshrc
```


## 启动 MongoDB

成果配置环境变量后，在喜欢的位置为 MongoDB 创建 data 文件夹，我在 Home 目录下创建了 `mongodb-data`。终端使用如下代码运行启动 MongoDB server，同时指定 dbpath。服务器默认在 27017 端口，不清楚为啥 4.4.5 的 log 显示成这样，4.0.24 的挺好的。
```
mongod --dbpath /Users/kainzhang/mongodb-data
```
![mongod](https://cdn.jsdelivr.net/gh/kainzhang/kz-img/blog/21/05/09/20210509203531.png)


cmd + t 打开新的终端 tab，启动 MongoDB Shell 连接 Server。
```
mongo
```
![mongo](https://cdn.jsdelivr.net/gh/kainzhang/kz-img/blog/21/05/09/20210509203910.png)

一些基础操作。
![](https://cdn.jsdelivr.net/gh/kainzhang/kz-img/blog/21/05/09/20210509204826.png)

## 关闭 MongoDB

推荐使用如下命令关闭 Server，否则会导致端口占用，影响下次使用。在 Shell 这边输入如下指令。
<img src="https://cdn.jsdelivr.net/gh/kainzhang/kz-img/blog/21/05/09/20210509204833.png" width="40%" height="40%" />

## 安装 MongoDB Compass

MongoDB 的图形化界面，[官网下载](https://www.mongodb.com/try/download/compass)安装或者运行压缩包中的install_compass，配置过环境变量后可以直接终端执行命令。
```
install_compass
```
![MongoDB Compass界面](https://cdn.jsdelivr.net/gh/kainzhang/kz-img/img/21/05/11/20210511103523.png)
